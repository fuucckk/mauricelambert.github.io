var res = {'data':'HTTP/1.1 200 OK\x0aDate: Tue, 14 Sep 2021 11:02:42 GMT\x0aServer: WebScripts 1.4.2\x0aContent-Type: text/javascript\x0aStrict-Transport-Security: max-age=63072000; includeSubDomains; preload\x0aContent-Security-Policy: default-src \x27self\x27; form-action \x27none\x27; frame-ancestors \x27none\x27\x0aX-Frame-Options: deny\x0aX-XSS-Protection: 1; mode=block\x0aX-Content-Type-Options: nosniff\x0aReferrer-Policy: origin-when-cross-origin\x0aCache-Control: no-store\x0aPragma: no-store\x0aClear-Site-Data: *\x0aFeature-Policy: microphone \x27none\x27; camera \x27none\x27\x0aCross-Origin-Embedder-Policy: require-corp\x0aCross-Origin-Opener-Policy: same-origin\x0aCross-Origin-Resource-Policy: same-origin\x0aX-Server: WebScripts\x0aContent-Length: 4326\x0a\x0a/*\x0d\x0a\x0d\x0a    Basic web scripts for WebScript pages.\x0d\x0a    Copyright (C) 2021  Maurice Lambert\x0d\x0a\x0d\x0a    This program is free software: you can redistribute it and/or modify\x0d\x0a    it under the terms of the GNU General Public License as published by\x0d\x0a    the Free Software Foundation, either version 3 of the License, or\x0d\x0a    (at your option) any later version.\x0d\x0a\x0d\x0a    This program is distributed in the hope that it will be useful,\x0d\x0a    but WITHOUT ANY WARRANTY; without even the implied warranty of\x0d\x0a    MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the\x0d\x0a    GNU General Public License for more details.\x0d\x0a\x0d\x0a    You should have received a copy of the GNU General Public License\x0d\x0a    along with this program.  If not, see \x3chttps://www.gnu.org/licenses/\x3e.\x0d\x0a\x0d\x0a*/\x0d\x0alet scripts;\x0d\x0alet theme_button = document.createElement(\x22button\x22);\x0d\x0a\x0d\x0afunction get_scripts(func = undefined) {\x0d\x0a    let xhttp = new XMLHttpRequest();\x0d\x0a    xhttp.onreadystatechange = () =\x3e {\x0d\x0a        if (xhttp.readyState === 4 && xhttp.status === 200) {\x0d\x0a            scripts = JSON.parse(xhttp.responseText);\x0d\x0a\x0d\x0a            if (func !== undefined) {\x0d\x0a                func(scripts);\x0d\x0a                document.getElementById(\x22prevent_no_javascript\x22).style\x0d\x0a                    .display = \x27none\x27;\x0d\x0a            }\x0d\x0a        }\x0d\x0a    }\x0d\x0a\x0d\x0a    xhttp.open(\x22GET\x22, \x22/api/\x22, true);\x0d\x0a    xhttp.send();\x0d\x0a}\x0d\x0a\x0d\x0afunction light_mode(class_name = \x27light\x27, element = null) {\x0d\x0a    let elements = null;\x0d\x0a\x0d\x0a    if (element === null) {\x0d\x0a        elements = [\x0d\x0a            [\x0d\x0a                document.getElementsByTagName(\x27html\x27)[0],\x0d\x0a                document.body,\x0d\x0a                document.getElementById(\x22webscripts_content\x22),\x0d\x0a            ],\x0d\x0a            document.getElementsByClassName(\x27border\x27),\x0d\x0a            document.getElementsByTagName(\x27button\x27),\x0d\x0a            document.getElementsByTagName(\x27input\x27),\x0d\x0a            document.getElementsByTagName(\x27select\x27),\x0d\x0a            document.getElementsByTagName(\x27a\x27),\x0d\x0a            document.getElementsByTagName(\x27td\x27),\x0d\x0a        ];\x0d\x0a\x0d\x0a        let bar = document.getElementById(\x22bar\x22);\x0d\x0a        if (bar !== null) {\x0d\x0a            elements[0].push(bar);\x0d\x0a        }\x0d\x0a    } else {\x0d\x0a        elements = [\x0d\x0a            element.getElementsByClassName(\x27border\x27),\x0d\x0a            element.getElementsByTagName(\x27button\x27),\x0d\x0a            element.getElementsByTagName(\x27input\x27),\x0d\x0a            element.getElementsByTagName(\x27select\x27),\x0d\x0a            element.getElementsByTagName(\x27a\x27),\x0d\x0a            element.getElementsByTagName(\x27td\x27),\x0d\x0a        ];\x0d\x0a    }\x0d\x0a\x0d\x0a    for (let i = 0; i \x3c elements.length; ++i) {\x0d\x0a        for (let l = 0; l \x3c elements[i].length; ++l) {\x0d\x0a            elements[i][l].classList.toggle(class_name);\x0d\x0a        }\x0d\x0a    }\x0d\x0a}\x0d\x0a\x0d\x0afunction theme() {\x0d\x0a    let theme = localStorage.getItem(\x27theme\x27);\x0d\x0a\x0d\x0a    if (theme === null) {\x0d\x0a        if (window.matchMedia(\x27(prefers-color-scheme: dark)\x27).matches ===\x0d\x0a            true) {\x0d\x0a            theme = \x22light\x22;\x0d\x0a        } else if (window.matchMedia(\x27(prefers-color-scheme: light)\x27)\x0d\x0a            .matches === true) {\x0d\x0a            theme = \x22dark\x22;\x0d\x0a        }\x0d\x0a\x0d\x0a        let defaults = document.getElementsByClassName(\x22default_theme\x22);\x0d\x0a\x0d\x0a        while (defaults.length \x3e 0) {\x0d\x0a            for (let i = 0; i \x3c defaults.length; ++i) {\x0d\x0a                defaults[i].classList.toggle(\x22default_theme\x22);\x0d\x0a            }\x0d\x0a\x0d\x0a            defaults = document.getElementsByClassName(\x22default_theme\x22);\x0d\x0a            console.log(defaults);\x0d\x0a        }\x0d\x0a    }\x0d\x0a\x0d\x0a    if (theme === \x22light\x22) {\x0d\x0a        localStorage.setItem(\x27theme\x27, \x27dark\x27);\x0d\x0a        theme_button.innerText = \x22Light mode\x22;\x0d\x0a    } else if (theme === \x22dark\x22) {\x0d\x0a        localStorage.setItem(\x27theme\x27, \x27light\x27);\x0d\x0a        theme_button.innerText = \x22Dark mode\x22;\x0d\x0a    }\x0d\x0a\x0d\x0a    light_mode();\x0d\x0a}\x0d\x0a\x0d\x0afunction load_theme() {\x0d\x0a    if (localStorage.getItem(\x27theme\x27) === null) {\x0d\x0a        light_mode(\x27default_theme\x27);\x0d\x0a    } else if (localStorage.getItem(\x27theme\x27) === \x22light\x22) {\x0d\x0a        light_mode();\x0d\x0a        theme_button.innerText = \x22Dark mode\x22;\x0d\x0a    }\x0d\x0a}\x0d\x0a\x0d\x0afunction add_button() {\x0d\x0a    let border_left = document.getElementById(\x22webscripts_border_left\x22);\x0d\x0a\x0d\x0a    theme_button.innerText = \x22Light mode\x22;\x0d\x0a    theme_button.onclick = theme;\x0d\x0a    theme_button.style.marginBottom = \x225%\x22;\x0d\x0a    theme_button.style.marginTop = \x225%\x22;\x0d\x0a\x0d\x0a    border_left.appendChild(theme_button);\x0d\x0a    load_theme();\x0d\x0a}'}